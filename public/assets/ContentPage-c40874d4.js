import{r as i,a as ye,o as _e,d as qe,b as Be,e as Pe,f as Je,g as N,l as be,h as xe,j as o,R as Qe,q as S,u as L,c as C,i as Ze,k as et,m as tt,n as Me,p as nt,s as ot,t as st,v as at,L as rt,B as it,w as Ne,x as lt}from"./index-a2d7adc7.js";import{s as P,u as dt,i as ct,r as Ce,h as ut,C as mt,F as De,t as ft}from"./hasClass-96dcdab4.js";import{d as ht}from"./divWithClassName-86292eb9.js";import{g as gt}from"./token-f48d968b.js";import{u as pt}from"./useLazyImage-467dd467.js";import{u as yt}from"./useGetImageItem-752e3ad8.js";import vt from"./PageNotFound-29d1b5dd.js";import{C as Re}from"./CardBody-74886554.js";import{u as Et}from"./useDispatch-5edecf31.js";import"./index-4420de2c.js";function wt(t){const e=i.useRef(t);return e.current=t,e}function Oe(t){const e=wt(t);i.useEffect(()=>()=>e.current(),[])}var ie;function Te(t){if((!ie&&ie!==0||t)&&ye){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ie=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ie}function fe(t){t===void 0&&(t=_e());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function bt(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const je=qe("modal-open");class xt{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return bt(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[s]:a.style[s]},e.scrollBarWidth&&(n[s]=`${parseInt(P(a,s)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(je,""),P(a,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(je),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const ve=xt,Mt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Nt(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,r;for(r=0;r<s.length;r++)a=s[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let he;function Ct(t){return he||(he=new ve({ownerDocument:t==null?void 0:t.document})),he}function Rt(t){const e=Be(),n=t||Ct(e),s=i.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:i.useCallback(a=>{s.current.dialog=a},[]),setBackdropRef:i.useCallback(a=>{s.current.backdrop=a},[])})}const Se=i.forwardRef((t,e)=>{let{show:n=!1,role:s="dialog",className:a,style:r,children:u,backdrop:m=!0,keyboard:y=!0,onBackdropClick:E,onEscapeKeyDown:h,transition:f,runTransition:w,backdropTransition:$,runBackdropTransition:j,autoFocus:I=!0,enforceFocus:b=!0,restoreFocus:F=!0,restoreFocusOptions:W,renderDialog:k,renderBackdrop:v=d=>o.jsx("div",Object.assign({},d)),manager:H,container:le,onShow:U,onHide:J=()=>{},onExit:Q,onExited:K,onExiting:Z,onEnter:ee,onEntering:te,onEntered:de}=t,ce=Nt(t,Mt);const x=Be(),_=dt(le),c=Rt(H),ne=Pe(),z=Je(n),[R,M]=i.useState(!n),g=i.useRef(null);i.useImperativeHandle(e,()=>c,[c]),ye&&!z&&n&&(g.current=fe(x==null?void 0:x.document)),n&&R&&M(!1);const oe=N(()=>{if(c.add(),D.current=be(document,"keydown",me),B.current=be(document,"focus",()=>setTimeout(se),!0),U&&U(),I){var d,re;const Y=fe((d=(re=c.dialog)==null?void 0:re.ownerDocument)!=null?d:x==null?void 0:x.document);c.dialog&&Y&&!xe(c.dialog,Y)&&(g.current=Y,c.dialog.focus())}}),G=N(()=>{if(c.remove(),D.current==null||D.current(),B.current==null||B.current(),F){var d;(d=g.current)==null||d.focus==null||d.focus(W),g.current=null}});i.useEffect(()=>{!n||!_||oe()},[n,_,oe]),i.useEffect(()=>{R&&G()},[R,G]),Oe(()=>{G()});const se=N(()=>{if(!b||!ne()||!c.isTopModal())return;const d=fe(x==null?void 0:x.document);c.dialog&&d&&!xe(c.dialog,d)&&c.dialog.focus()}),ue=N(d=>{d.target===d.currentTarget&&(E==null||E(d),m===!0&&J())}),me=N(d=>{y&&ct(d)&&c.isTopModal()&&(h==null||h(d),d.defaultPrevented||J())}),B=i.useRef(),D=i.useRef(),V=(...d)=>{M(!0),K==null||K(...d)};if(!_)return null;const ae=Object.assign({role:s,ref:c.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ce,{style:r,className:a,tabIndex:-1});let X=k?k(ae):o.jsx("div",Object.assign({},ae,{children:i.cloneElement(u,{role:"document"})}));X=Ce(f,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Q,onExiting:Z,onExited:V,onEnter:ee,onEntering:te,onEntered:de,children:X});let T=null;return m&&(T=v({ref:c.setBackdropRef,onClick:ue}),T=Ce($,j,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:T})),o.jsx(o.Fragment,{children:Qe.createPortal(o.jsxs(o.Fragment,{children:[T,X]}),_)})});Se.displayName="Modal";const Tt=Object.assign(Se,{Manager:ve});function jt(t,e){t.classList?t.classList.add(e):ut(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ke(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function kt(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ke(t.className,e):t.setAttribute("class",ke(t.className&&t.className.baseVal||"",e))}const A={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class _t extends ve{adjustAndStore(e,n,s){const a=n.style[e];n.dataset[e]=a,P(n,{[e]:`${parseFloat(P(n,e))+s}px`})}restore(e,n){const s=n.dataset[e];s!==void 0&&(delete n.dataset[e],P(n,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(jt(n,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";S(n,A.FIXED_CONTENT).forEach(r=>this.adjustAndStore(s,r,e.scrollBarWidth)),S(n,A.STICKY_CONTENT).forEach(r=>this.adjustAndStore(a,r,-e.scrollBarWidth)),S(n,A.NAVBAR_TOGGLER).forEach(r=>this.adjustAndStore(a,r,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();kt(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";S(n,A.FIXED_CONTENT).forEach(r=>this.restore(s,r)),S(n,A.STICKY_CONTENT).forEach(r=>this.restore(a,r)),S(n,A.NAVBAR_TOGGLER).forEach(r=>this.restore(a,r))}}let ge;function Bt(t){return ge||(ge=new _t(t)),ge}const Ae=i.forwardRef(({className:t,bsPrefix:e,as:n="div",...s},a)=>(e=L(e,"modal-body"),o.jsx(n,{ref:a,className:C(t,e),...s})));Ae.displayName="ModalBody";const Dt=Ae,Ot=i.createContext({onHide(){}}),Le=Ot,$e=i.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:s,size:a,fullscreen:r,children:u,scrollable:m,...y},E)=>{t=L(t,"modal");const h=`${t}-dialog`,f=typeof r=="string"?`${t}-fullscreen-${r}`:`${t}-fullscreen`;return o.jsx("div",{...y,ref:E,className:C(h,e,a&&`${t}-${a}`,s&&`${h}-centered`,m&&`${h}-scrollable`,r&&f),children:o.jsx("div",{className:C(`${t}-content`,n),children:u})})});$e.displayName="ModalDialog";const Ie=$e,Fe=i.forwardRef(({className:t,bsPrefix:e,as:n="div",...s},a)=>(e=L(e,"modal-footer"),o.jsx(n,{ref:a,className:C(t,e),...s})));Fe.displayName="ModalFooter";const St=Fe,At=i.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:s,children:a,...r},u)=>{const m=i.useContext(Le),y=N(()=>{m==null||m.onHide(),s==null||s()});return o.jsxs("div",{ref:u,...r,children:[a,n&&o.jsx(mt,{"aria-label":t,variant:e,onClick:y})]})}),Lt=At,We=i.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:s=!1,...a},r)=>(t=L(t,"modal-header"),o.jsx(Lt,{ref:r,...a,className:C(e,t),closeLabel:n,closeButton:s})));We.displayName="ModalHeader";const $t=We,It=ht("h4"),He=i.forwardRef(({className:t,bsPrefix:e,as:n=It,...s},a)=>(e=L(e,"modal-title"),o.jsx(n,{ref:a,className:C(t,e),...s})));He.displayName="ModalTitle";const Ft=He;function Wt(t){return o.jsx(De,{...t,timeout:null})}function Ht(t){return o.jsx(De,{...t,timeout:null})}const Ue=i.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:s,contentClassName:a,children:r,dialogAs:u=Ie,"aria-labelledby":m,"aria-describedby":y,"aria-label":E,show:h=!1,animation:f=!0,backdrop:w=!0,keyboard:$=!0,onEscapeKeyDown:j,onShow:I,onHide:b,container:F,autoFocus:W=!0,enforceFocus:k=!0,restoreFocus:v=!0,restoreFocusOptions:H,onEntered:le,onExit:U,onExiting:J,onEnter:Q,onEntering:K,onExited:Z,backdropClassName:ee,manager:te,...de},ce)=>{const[x,_]=i.useState({}),[c,ne]=i.useState(!1),z=i.useRef(!1),R=i.useRef(!1),M=i.useRef(null),[g,oe]=Ze(),G=et(ce,oe),se=N(b),ue=tt();t=L(t,"modal");const me=i.useMemo(()=>({onHide:se}),[se]);function B(){return te||Bt({isRTL:ue})}function D(l){if(!ye)return;const O=B().getScrollbarWidth()>0,we=l.scrollHeight>_e(l).documentElement.clientHeight;_({paddingRight:O&&!we?Te():void 0,paddingLeft:!O&&we?Te():void 0})}const V=N(()=>{g&&D(g.dialog)});Oe(()=>{Me(window,"resize",V),M.current==null||M.current()});const ae=()=>{z.current=!0},X=l=>{z.current&&g&&l.target===g.dialog&&(R.current=!0),z.current=!1},T=()=>{ne(!0),M.current=ft(g.dialog,()=>{ne(!1)})},d=l=>{l.target===l.currentTarget&&T()},re=l=>{if(w==="static"){d(l);return}if(R.current||l.target!==l.currentTarget){R.current=!1;return}b==null||b()},Y=l=>{$?j==null||j(l):(l.preventDefault(),w==="static"&&T())},Ke=(l,O)=>{l&&D(l),Q==null||Q(l,O)},ze=l=>{M.current==null||M.current(),U==null||U(l)},Ge=(l,O)=>{K==null||K(l,O),nt(window,"resize",V)},Ve=l=>{l&&(l.style.display=""),Z==null||Z(l),Me(window,"resize",V)},Xe=i.useCallback(l=>o.jsx("div",{...l,className:C(`${t}-backdrop`,ee,!f&&"show")}),[f,ee,t]),Ee={...n,...x};Ee.display="block";const Ye=l=>o.jsx("div",{role:"dialog",...l,style:Ee,className:C(e,t,c&&`${t}-static`,!f&&"show"),onClick:w?re:void 0,onMouseUp:X,"aria-label":E,"aria-labelledby":m,"aria-describedby":y,children:o.jsx(u,{...de,onMouseDown:ae,className:s,contentClassName:a,children:r})});return o.jsx(Le.Provider,{value:me,children:o.jsx(Tt,{show:h,ref:G,backdrop:w,container:F,keyboard:!0,autoFocus:W,enforceFocus:k,restoreFocus:v,restoreFocusOptions:H,onEscapeKeyDown:Y,onShow:I,onHide:b,onEnter:Ke,onEntering:Ge,onEntered:le,onExit:ze,onExiting:J,onExited:Ve,manager:B(),transition:f?Wt:void 0,backdropTransition:f?Ht:void 0,renderBackdrop:Xe,renderDialog:Ye})})});Ue.displayName="Modal";const q=Object.assign(Ue,{Body:Dt,Header:$t,Title:Ft,Footer:St,Dialog:Ie,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ut="_title_z7kr5_1",Kt="_content_z7kr5_5",zt="_buttons_z7kr5_9",pe={title:Ut,content:Kt,buttons:zt},Gt=t=>o.jsxs(q,{show:t.visible,onHide:t.onClose,children:[o.jsx(q.Header,{closeButton:!0,children:o.jsx(q.Title,{className:pe.title,children:t.title})}),o.jsx(q.Body,{children:o.jsx("p",{className:pe.content,children:t.content})}),o.jsx(q.Footer,{className:pe.buttons,children:t.renderedButtons})]}),Vt=(t,e,n)=>{const[s,a]=i.useState(!1),r=()=>{a(!1)},u=o.jsx(Gt,{title:t,content:e,visible:s,renderedButtons:n(r),onClose:r});return[ot.createPortal(u,document.getElementById("modal")),a]},Xt="_group_1lcw4_1",Yt="_info_1lcw4_9",qt="_body_1lcw4_31",Pt="_buttons_1lcw4_36",Jt="_description_1lcw4_67",Qt="_col_1lcw4_70",Zt="_title_1lcw4_77",p={group:Xt,info:Yt,"image-wrapper":"_image-wrapper_1lcw4_22","loading-image":"_loading-image_1lcw4_28",body:qt,buttons:Pt,description:Jt,col:Qt,title:Zt};function un(){const t=st(),e=new URLSearchParams(t.search),n=parseInt(e.get("id")??"-1"),s=at(),a=Et(),{isError:r,imageItem:u}=yt(n),[m,y]=Vt("Delete Image","Are you sure you want to delete this image?",v=>o.jsxs(o.Fragment,{children:[o.jsx(Ne,{className:"btn btn-lg btn-warning",onClick:v,children:"Cancel"}),o.jsx(Ne,{className:"btn btn-lg btn-danger",onClick:()=>{f(),v()},children:"Delete"})]})),[E]=pt(n,u?u.title:"",{wrapperClassName:`card-img ${p["image-wrapper"]}`,defaultImageShouldLoad:!0,imageClassName:p.image,loadingImageClassName:p["loading-image"]});if(r)return o.jsx(vt,{message:"Hmmm... we couldn't find that image"});if(!u)return o.jsx(rt,{});const h=()=>{s("/")},f=async()=>{await fetch(`${lt}/delete?id=${n}`,{method:"DELETE",headers:{Authorization:gt()}}),a({type:"DELETE_IMAGE_ITEM",payload:n}),h()},w=()=>{y(!0)},$=()=>{s(`/update?id=${n}`)},{title:j,description:I,date:b,category:F}=u,W=I.split(`
`).map((v,H)=>o.jsxs("li",{children:[v," ",o.jsx("br",{})]},`${v}__${H}`)),k=new Date(b).toLocaleDateString();return o.jsxs(Re,{className:p.group,children:[m,o.jsx(Re,{className:`row ${p.body}`,children:o.jsxs("div",{className:`${p.info} ${p.col}`,children:[E,o.jsx("h1",{className:`card-title text-center ${p.title}`,children:j}),o.jsx("div",{className:"container",children:o.jsxs("div",{className:"row my-4",children:[o.jsx("div",{className:"col-md-6",children:o.jsxs("p",{children:["Uploaded: ",k]})}),o.jsx("div",{className:"col-md-6",children:o.jsxs("p",{children:["Category: ",F]})})]})}),o.jsx("ul",{className:p.description,children:W})]})}),o.jsxs(it,{className:p.buttons,children:[o.jsx("button",{className:"btn btn-lg btn-primary",onClick:$,children:"Edit"}),o.jsx("button",{className:"btn btn-lg btn-danger",onClick:w,children:"Delete"})]})]})}export{un as default};
