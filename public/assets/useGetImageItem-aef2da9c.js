import{y as p,r as t,x as l}from"./index-060727d4.js";import{g}from"./token-f48d968b.js";import{u as h}from"./useDispatch-9290dba3.js";function A(r){const a=p(e=>e.imageItems),o=a.find(e=>e.id===r),c=a.map(e=>e.id).join(","),[i,n]=t.useState(!1),[m,f]=t.useState(o??null),u=t.useRef(!1),I=h();async function d(){const e=await fetch(`${l}/get?id=${r}`,{method:"GET",headers:{Authorization:g(),loadedItems:c}});if(e.status>299){n(!0);return}const s=await e.json();if(!s){n(!0);return}I({type:"ADD_IMAGE_ITEM",payload:s}),f(s)}return t.useEffect(()=>{u.current||o||(u.current=!0,d())},[]),{isError:i,imageItem:m}}export{A as u};
