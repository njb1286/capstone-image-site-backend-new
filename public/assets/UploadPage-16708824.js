import{v as u,j as g,U as m,x as l}from"./index-060727d4.js";import{g as h}from"./token-f48d968b.js";import{u as y}from"./useDispatch-9290dba3.js";const S=e=>{const o=y(),a=u(),i=async t=>{const n=t.get("title"),r=t.get("description"),c=t.get("category"),s=await fetch(`${l}/form`,{method:"POST",body:t,headers:{Authorization:h()}});if(s.status>299)return!0;const d=(await s.json()).id,p=new Date().toISOString();o({type:"ADD_IMAGE_ITEM",payload:{title:n,description:r,id:d,date:p,category:c}}),e.redirect&&a(e.redirect)};return g.jsx(m,{onSubmit:i})};export{S as default};
