import{r as h,v as f,j as r,U as w,x}from"./index-a2d7adc7.js";import{g as I}from"./token-f48d968b.js";import T from"./PageNotFound-29d1b5dd.js";import{u as U}from"./useGetImageItem-752e3ad8.js";import{u as v}from"./useDispatch-5edecf31.js";import"./index-4420de2c.js";const C=()=>{const n=new URLSearchParams(window.location.search).get("id"),t=parseInt(n??"-1"),o=h.useMemo(()=>`/views?id=${t}`,[t]),{imageItem:s}=U(t),i=v(),a=f();if(!s)return r.jsx(T,{message:"Sorry, we couldn't find that item!",hasLink:!0});const{title:c,description:d,category:u}=s,p=async e=>{if((await fetch(`${x}/update?id=${t}`,{method:"POST",body:e,headers:{Authorization:I()}})).status>299)return!0;const m=e.get("title"),g=e.get("description"),y=e.get("category");i({type:"UPDATE_IMAGE_ITEM",payload:{title:m,description:g,id:t,category:y}}),a(o)},l=()=>{a(o)};return r.jsx(w,{onCancel:l,onSubmit:p,defaultTitle:c,defaultDescription:d,defaultCategory:u,validateFieldsOnMount:!0,shouldNotValidateImage:!0})};export{C as default};
